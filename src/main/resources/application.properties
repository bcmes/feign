## Para deixar o 'Run' colorido.
spring.output.ansi.enabled=always

## LOG LEVEL FOR THE SPECIFIC PACKAGE, FOR THE FULL PROJECT DO logging.level = DEBUG
### O log feign responde apenas ao nível DEBUG.
logging.level.com.github.bcmes.demo.externalcalls.swapi=DEBUG

## LOGGING FOR SPECIFIC @FeignClient(name = "SWAPI", ...). For all FeignClients use "default" instead of
### "FeignClient name", see: feign.client.config.default.logger-level=FULL
### It is necessary to enable logging at the DEBUG level.
feign.client.config.SWAPI.logger-level=FULL
## CONFIGURATION HANDSHAKE(connect-timeout) AND READ RESPONSE(read-timeout), for specific @FeignClient(name = "SWAPI", ...)
feign.client.config.SWAPI.connect-timeout=6000
feign.client.config.SWAPI.read-timeout=10000
#feign.client.config.default.decode404=true
## ENABLES RESILIENCE4J FOR ALL FEIGNCLIENTS, para funcionar precisa declarar a depedencia "Spring Cloud CircuitBreaker" no pom.xml
feign.circuitbreaker.enabled=true
## Quando preciso especificar a configuracao para um FeignClient, devo mencionar o nome da interface seguido do nome do
### metodo, porem ele e gerado com um caracter de juncao #, veja: ExternalCallSwapi#getPeople, que e o nome da interface
### mais o nome do metodo, e esse caractere # nao e aceito no '.properties', para resolver este problema,
### basta habilitar a propriedade abaixo, assim vc podera citar o nome como, ExternalCallSwapigetPeople, apenas
### eliminando o # de juncao.
feign.circuitbreaker.alphanumeric-ids.enabled=true
## Definindo as configuracoes default, comum a todos FeignClients
resilience4j.circuitbreaker.configs.default.minimumNumberOfCalls=1
resilience4j.timelimiter.configs.default.timeoutDuration=10s
## Setando as configuracoes default acima em uma interface+metodo especifico, funciona. MAS COMO CRIAR UMA CONFIGURACAO
### DIFERENTE PARA CADA FEIGNCLIENT ESPECIFO ? POIS ESSA E A DEFAULT E NEM PRECISAMOS CITAR.
#resilience4j.circuitbreaker.instances.ExternalCallSwapigetPeople.baseConfig=default
## Isso aqui nao funcionou:
#resilience4j.circuitbreaker.instances.ExternalCallSwapigetPeople.timeoutDuration=10s





## NOTAS GERAIS
## As configuracoes do feign podem existir em 4 lugares, aqui, em um bean customizado (global ou local na propriedade
### configuration do @FeignClient), nas propriedades do @FeignClient, ou na propriedade defaultConfiguration
### do @EnableFeignClients (global). Na precedencia o mais especifico sempre vence.

## Detalhes das configuracoes do resilience4j no .properties, https://heapsteep.com/13-circuit-breaker-resilience4j/
